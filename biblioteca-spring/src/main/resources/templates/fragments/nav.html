<nav class="navbar navbar-inverse">
	<div class="container-fluid">
		<div class="navbar-header" sec:authorize="isAuthenticated()">
			<button type="button" class="navbar-toggle" data-toggle="collapse"
				data-target="#myNavbar">
				<span class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>
			<img src="/img/student-48.png" alt="logo" />
		</div>
		<div class="collapse navbar-collapse" id="myNavbar">
			<ul class="nav navbar-nav" sec:authorize="isAuthenticated()">
				<li><a href="/" th:text="#{nav.home}"></a></li>

				<!-- ADMIN -->
				<li id="user-management-menu" class="dropdown" sec:authorize="hasAuthority('ADMIN')">
				<a class="dropdown-toggle" data-toggle="dropdown" href="#"> 
					<span th:text="#{nav.userManagement}"></span> 
					<span class="caret"></span>
				</a>
					<ul class="dropdown-menu">
						<li><a href="/user/add" th:text="#{nav.userManagement.add}"></a>
						</li>
						<li><a href="/user/list"
							th:text="#{nav.userManagement.users}"></a></li>
						<li><a href="/user/listDisabled"
							th:text="#{nav.userManagement.usersDisabled}"></a></li>
						<li><a href="/user/import"
							th:text="#{nav.userManagement.import}"></a></li>
					</ul>
				</li>
				<!-- ADMIN -->
				<li id="tutorials-management-menu" class="dropdown" sec:authorize="hasAuthority('ADMIN')">
					<a class="dropdown-toggle" data-toggle="dropdown" href="#"> 
						<span th:text="#{nav.tutorialManagement}"></span> 
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu">
						<li><a href="/tutorialGroups/automaticAssignment"
							th:text="#{nav.tutorialManagement.automatic}"></a></li>
						<li><a href="/tutorialGroups/manualAssignment"
							th:text="#{nav.tutorialManagement.manual}"></a></li>
						<li><a href="/tutorialGroups/reports"
							th:text="#{nav.tutorialManagement.reports}"></a></li>
					</ul>
				</li>

				<!-- ADMIN -->
				<li sec:authorize="hasAuthority('ADMIN')">
					<a href="/system/defineSystemVariables" th:text="#{nav.systemVariables}"></a>
				</li>

				<!-- TUTOR - Gestión de estudiantes -->
				<li id="student-management-menu" class="dropdown" sec:authorize="hasAuthority('TUTOR')">
					<a class="dropdown-toggle" data-toggle="dropdown" href="#"> 
						<span th:text="#{nav.stManagement}"></span> 
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu">
						<li><a href="/tutor/defineMaxStudents"
							th:text="#{nav.stManagement.defMaxSt}"></a></li>
						<li><a href="/tutor/students"
							th:text="#{nav.stManagement.students}"></a></li>
					</ul>
				</li>

				<!-- ESTUDIANTE/TUTOR - Gestión de tutoría -->
				<li id="tutorial-management-menu" class="dropdown" sec:authorize="hasAnyAuthority('ESTUDIANTE','TUTOR')">
					<a class="dropdown-toggle" data-toggle="dropdown" href="#"> 
						<span th:text="#{nav.tutorialManagement}"></span> 
						<span class="caret"></span>
					</a>
					<ul class="dropdown-menu">
						<li sec:authorize="hasAuthority('ESTUDIANTE')"><a
							href="/student/tutorials"
							th:text="#{nav.tutorialManagement.fixedTutorials}"></a></li>
						<li sec:authorize="hasAuthority('ESTUDIANTE')"><a
							href="/student/seeTutorProfile"
							th:text="#{nav.tutorialManagement.seeTutor}"></a></li>
						<li sec:authorize="hasAuthority('TUTOR')"><a
							href="/tutor/callTutorial"
							th:text="#{nav.tutorialManagement.callTut}"></a></li>
						<li sec:authorize="hasAuthority('TUTOR')"><a
							href="/tutor/tutorials"
							th:text="#{nav.tutorialManagement.tutorials}"></a></li>
					</ul>
				</li>

				<!-- ADMIN/TUTOR/ESTUDIANTE - Mi perfil -->
				<li sec:authorize="hasAuthority('ADMIN')">
					<a href="/admin/myProfile" th:text="#{nav.myProfile}"></a>
				</li>
				<li sec:authorize="hasAuthority('TUTOR')">
					<a href="/tutor/myProfile" th:text="#{nav.myProfile}"></a>
				</li>
				<li sec:authorize="hasAuthority('ESTUDIANTE')">
					<a href="/student/myProfile" th:text="#{nav.myProfile}"></a>
				</li>
			</ul>

			<ul class="nav navbar-nav navbar-right">
				<li sec:authorize="!isAuthenticated()">
					<a href="/login">
						<span class="glyphicon glyphicon-log-in"></span> 
						<span th:text="#{login.message}"></span>
					</a>
				</li>
				<li sec:authorize="isAuthenticated()">
					<form sec:authorize="isAuthenticated()"	class="navbar-form navbar-right" action="/logout" method="post">
						<input class="btn btn-default" type="submit" th:value="#{logout.message}"> 
						<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
					</form>
				</li>
			</ul>
		</div>
	</div>
</nav>